#include <string>
#include <gtest/gtest.h>
extern "C" {
#include "libwebvtt/cuetext.c"
}

class CueTextTokenizerTest : public ::testing::Test
{
  public:
    virtual void SetUp() {
      webvtt_init_string( &res );
    }
    
    virtual void TearDown() {
      webvtt_release_string( &res );
    }
    
    webvtt_status GetStatus() {
      return status;
    }
    
    webvtt_token_state GetState() {
      return state;
    }
    
    const char * ParsedText() {
      return reinterpret_cast<const char *>( webvtt_string_text ( &res ) );
    }
    
    const char GetCurrentChar() {
      return static_cast<const char>( *pos );
    }
    
  protected:
    webvtt_string res;
    webvtt_token_state state;
    webvtt_status status;
    const webvtt_byte *pos;
};